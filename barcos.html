<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="es"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;Rol de embarque Â· Caducidades&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>:root {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--bg: #f4f6fb;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--bg-alt: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--primary: #1f6feb;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--primary-soft: #e0ecff;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--danger: #e11d48;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--warning: #f59e0b;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--success: #16a34a;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--text: #111827;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--muted: #6b7280;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--border: #e5e7eb;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--radius-lg: 14px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--radius-sm: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>--shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.08);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>* {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-sizing: border-box;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: radial-gradient(circle at top left, #dbeafe, #f4f6fb 50%, #e5e7eb);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--text);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.app-shell {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>max-width: 1200px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 0 auto;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>header {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>flex-wrap: wrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.brand {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.brand-icon {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 36px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>height: 36px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, #0f766e, #0ea5e9);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: 800;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 18px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: var(--shadow-soft);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.brand-title {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: 700;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.brand-subtitle {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.pill {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 4px 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(31, 111, 235, 0.08);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: inline-flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.tabs {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(255,255,255,0.6);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 4px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 4px 18px rgba(15,23,42,0.06);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.tab-btn {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: transparent;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 6px 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 13px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: background 0.15s, color 0.15s, transform 0.05s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space: nowrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.tab-btn span.icon {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.tab-btn.active {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: var(--bg-alt);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 4px 13px rgba(15,23,42,0.08);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transform: translateY(-1px);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>main {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>grid-template-columns: 1fr;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@media (min-width: 900px) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>main {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>grid-template-columns: minmax(0, 1.3fr) minmax(260px, 0.85fr);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>align-items: flex-start;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.card {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(255,255,255,0.92);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: var(--radius-lg);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 14px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: var(--shadow-soft);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(148,163,184,0.15);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>backdrop-filter: blur(12px);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.card-header {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.card-title {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: 600;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 15px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.card-subtitle {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.cards-row {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>grid-template-columns: repeat(2, minmax(0,1fr));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@media (min-width: 700px) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.cards-row {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>grid-template-columns: repeat(4, minmax(0,1fr));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stat-card {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: var(--radius-sm);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 8px 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.9));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(148,163,184,0.28);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>row-gap: 2px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stat-label {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stat-value {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 18px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: 700;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: baseline;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 4px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.stat-chip {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 2px 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(31,111,235,0.06);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-top: 2px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: inline-block;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>max-width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-overflow: ellipsis;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space: nowrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.toolbar {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>flex-wrap: wrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.toolbar-group {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>flex-wrap: wrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>select, input[type="text"], input[type="date"], input[type="number"], textarea {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid var(--border);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 6px 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>outline: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>min-width: 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(255,255,255,0.9);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>textarea {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>min-height: 70px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>resize: vertical;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>select:focus, input:focus, textarea:focus {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 0 0 1px rgba(37,99,235,0.3);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 6px 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: inline-flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 4px 12px rgba(37,99,235,0.35);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: transform 0.05s, box-shadow 0.1s, opacity 0.1s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space: nowrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn:hover {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transform: translateY(-1px);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 6px 18px rgba(37,99,235,0.4);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn:active {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transform: translateY(0);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 3px 10px rgba(37,99,235,0.3);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-outline {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: transparent;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--primary);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(148,163,184,0.7);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn-outline.danger {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--danger);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-color: rgba(239,68,68,0.5);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.chip-status {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 2px 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: inline-flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 4px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space: nowrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.chip-status.expired {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(248,113,113,0.2);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #b91c1c;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.chip-status.soon {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(251,191,36,0.2);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #92400e;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.chip-status.ok {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(52,211,153,0.18);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #047857;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.chip-status.unknown {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(148,163,184,0.25);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #4b5563;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.table-container {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: var(--radius-sm);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>overflow: auto;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid rgba(148,163,184,0.4);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(248,250,252,0.9);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>table {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-collapse: collapse;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>thead {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(226,232,240,0.7);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>th, td {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 6px 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-align: left;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-bottom: 1px solid rgba(226,232,240,0.9);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space: nowrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>th {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: 600;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #6b7280;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>tbody tr:hover {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(219,234,254,0.4);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.table-actions {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 4px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.badge {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 2px 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(15,118,110,0.08);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #0f766e;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.section {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.section.active {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.form-grid {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>grid-template-columns: 1fr;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>@media (min-width: 700px) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>.form-grid.columns-2 {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>grid-template-columns: repeat(2, minmax(0, 1fr));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.field {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>flex-direction: column;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 4px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.field label {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.field small {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.badge-boat {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 2px 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(37,99,235,0.07);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #1d4ed8;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.badge-category {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 2px 6px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(14,116,144,0.1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #0e7490;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.danger-text {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--danger);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: 500;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.muted {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.notification-preview {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #020617;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: #e5e7eb;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>white-space: pre-wrap;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>max-height: 180px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>overflow: auto;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.switch-row {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.switch-row input[type="checkbox"] {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 32px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>height: 16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>appearance: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #e5e7eb;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>outline: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: background 0.15s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.switch-row input[type="checkbox"]::before {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>content: "";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>top: 2px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>left: 2px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>height: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 999px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 1px 3px rgba(15,23,42,0.35);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transition: transform 0.15s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.switch-row input[type="checkbox"]:checked {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #22c55e;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.switch-row input[type="checkbox"]:checked::before {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>transform: translateX(14px);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.empty {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 8px 4px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>footer {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-top: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-align: right;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: var(--muted);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div class="app-shell"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="brand"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="brand-icon"&gt;â›µ&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="brand-title"&gt;Rol de embarque Â· Caducidades&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="brand-subtitle"&gt;Control de documentaciÃ³n por barco, con avisos automÃ¡ticos&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div style="display:flex; flex-direction:column; gap:6px; align-items:flex-end;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="pill"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span&gt;Modo administrador&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="tabs" id="tabs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="tab-btn active" data-target="dashboard"&gt;&lt;span class="icon"&gt;ğŸ“Š&lt;/span&gt;Panel&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="tab-btn" data-target="boats"&gt;&lt;span class="icon"&gt;ğŸš¤&lt;/span&gt;Embarcaciones&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="tab-btn" data-target="documents"&gt;&lt;span class="icon"&gt;ğŸ“„&lt;/span&gt;Documentos&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;button class="tab-btn" data-target="settings"&gt;&lt;span class="icon"&gt;âš™ï¸&lt;/span&gt;Notificaciones&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;main&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;!-- Columna principal --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;section id="main-left"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;!-- Panel --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="section active" id="section-dashboard"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-title"&gt;Resumen general&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-subtitle"&gt;Estado actual de la documentaciÃ³n de todas las embarcaciones.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-outline btn" id="btn-simulate"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span&gt;Simular avisos hoy&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="cards-row" id="stats-cards"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- EstadÃ­sticas se pintan por JS --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="toolbar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="toolbar-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="dashboard-filter-status"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value=""&gt;Estado: todos&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="expired"&gt;Caducados&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="soon"&gt;PrÃ³ximos&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="ok"&gt;Vigentes&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="dashboard-filter-boat"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- barcos en JS --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="toolbar-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="dashboard-search" placeholder="Buscar por documento / barcoâ€¦" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="table-container" id="dashboard-table-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- tabla por JS --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;!-- Embarcaciones --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="section" id="section-boats"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-title"&gt;Embarcaciones&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-subtitle"&gt;Gestiona tus barcos y su documentaciÃ³n asociada.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn" id="btn-new-boat"&gt;+ Nueva embarcaciÃ³n&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="boat-form-wrapper" style="margin-bottom:10px; display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;form id="boat-form"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="hidden" id="boat-id" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-grid columns-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="boat-nib"&gt;NIB&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="boat-nib" required /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="boat-name"&gt;Nombre&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="boat-name" required /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="boat-owner"&gt;Propietario&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="boat-owner" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&amp;nbsp;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div style="display:flex; gap:6px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button type="submit" class="btn"&gt;Guardar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button type="button" class="btn btn-outline" id="btn-cancel-boat"&gt;Cancelar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/form&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="table-container" id="boats-table-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- tabla barcos --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;!-- Documentos --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="section" id="section-documents"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-title"&gt;Documentos&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-subtitle"&gt;Vista completa de todos los certificados y caducidades.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn" id="btn-new-document"&gt;+ Nuevo documento&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="document-form-wrapper" style="margin-bottom:10px; display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;form id="document-form"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="hidden" id="doc-id" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-grid columns-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="doc-boat"&gt;EmbarcaciÃ³n&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="doc-boat" required&gt;&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="doc-type"&gt;Tipo de documento / certificado&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="doc-type" placeholder="Ej. CERTIFICADO DE CONFORMIDAD" required /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="doc-category"&gt;CategorÃ­a&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="doc-category"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value=""&gt;Sin categorÃ­a&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="SEGURIDAD"&gt;Seguridad&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="TRIPULACION"&gt;TripulaciÃ³n&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="CERTIFICACIONES"&gt;Certificaciones&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="EQUIPOS"&gt;Equipos&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="doc-expiry"&gt;Fecha caducidad&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="date" id="doc-expiry" required /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="doc-days-notice"&gt;DÃ­as de aviso&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="number" id="doc-days-notice" min="0" value="7" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;small&gt;DÃ­as antes de la caducidad para enviar el aviso.&lt;/small&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="doc-contact"&gt;Avisar a&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="doc-contact"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- contactos --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field" style="grid-column:1/-1;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="doc-notes"&gt;Observaciones&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;textarea id="doc-notes" placeholder="Notas internas (ej. TIENE PATRÃ“N, revisar balsa, etc.)"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div style="grid-column:1/-1; display:flex; gap:6px; margin-top:4px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn" type="submit"&gt;Guardar documento&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn btn-outline" type="button" id="btn-cancel-document"&gt;Cancelar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/form&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="toolbar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="toolbar-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="docs-filter-boat"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- barcos --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="docs-filter-status"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value=""&gt;Estado: todos&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="expired"&gt;Caducados&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="soon"&gt;PrÃ³ximos&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="ok"&gt;Vigentes&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="docs-filter-category"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value=""&gt;CategorÃ­a: todas&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="SEGURIDAD"&gt;Seguridad&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="TRIPULACION"&gt;TripulaciÃ³n&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="CERTIFICACIONES"&gt;Certificaciones&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="EQUIPOS"&gt;Equipos&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="toolbar-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="docs-search" placeholder="Buscar por tipo / notasâ€¦" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="table-container" id="documents-table-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- tabla docs --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;!-- Columna lateral --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;section id="main-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;!-- Notificaciones / simulaciÃ³n --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="section active" id="section-dashboard-side"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-title"&gt;SimulaciÃ³n de avisos&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-subtitle"&gt;Vista previa de los emails / WhatsApp que se generarÃ­an hoy.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="simulation-results" class="notification-preview"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>Pulsa â€œSimular avisos hoyâ€ para ver quÃ© documentos dispararÃ­an una notificaciÃ³n.</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-title"&gt;Contactos de prueba&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-subtitle"&gt;Personas a las que se avisarÃ¡.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-outline btn" id="btn-new-contact"&gt;+ Nuevo contacto&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="contact-form-wrapper" style="display:none; margin-bottom:8px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;form id="contact-form"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="hidden" id="contact-id" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-grid columns-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="contact-name"&gt;Nombre&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="contact-name" required /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="contact-email"&gt;Email&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="contact-email" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="contact-phone"&gt;TelÃ©fono (WhatsApp)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="contact-phone" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="contact-channel"&gt;Canal preferido&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="contact-channel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="both"&gt;Email + WhatsApp&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="email"&gt;SÃ³lo email&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="whatsapp"&gt;SÃ³lo WhatsApp&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div style="grid-column:1/-1; display:flex; gap:6px; margin-top:4px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn" type="submit"&gt;Guardar contacto&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn btn-outline" type="button" id="btn-cancel-contact"&gt;Cancelar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/form&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="contacts-list" class="empty"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;!-- listado por JS --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;!-- ConfiguraciÃ³n notificaciones --&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="section" id="section-settings"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-header"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-title"&gt;Plantillas de aviso&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="card-subtitle"&gt;Estas plantillas se usarÃ¡n para generar emails y mensajes de WhatsApp.&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="tpl-email-subject"&gt;Asunto email&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="tpl-email-subject" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;small&gt;Variables disponibles: &lt;code&gt;{{nombre_barco}}&lt;/code&gt;, &lt;code&gt;{{nib}}&lt;/code&gt;, &lt;code&gt;{{tipo}}&lt;/code&gt;, &lt;code&gt;{{fecha}}&lt;/code&gt;, &lt;code&gt;{{dias_restantes}}&lt;/code&gt;&lt;/small&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="tpl-email-body"&gt;Cuerpo email&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;textarea id="tpl-email-body"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="field"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="tpl-whatsapp"&gt;Mensaje WhatsApp&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;textarea id="tpl-whatsapp"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="switch-row"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="checkbox" id="tpl-send-expired" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span&gt;Incluir tambiÃ©n documentos que ya estÃ©n caducados en la simulaciÃ³n/envÃ­os.&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div style="margin-top:6px; display:flex; gap:6px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn" id="btn-save-templates"&gt;Guardar plantillas&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="muted"&gt;En un entorno real, estas plantillas se usarÃ­an desde una funciÃ³n programada (cron) en tu backend.&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/main&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>Front de prototipo Â· Datos guardados en este navegador (localStorage). IntegraciÃ³n real de email/WhatsApp requiere backend.</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Estado y utilidades ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const STORAGE_KEY = 'rolEmbarqueApp_v1';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let boats = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let documents = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let contacts = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>let templates = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>emailSubject: 'AVISO: {{tipo}} Â· {{nombre_barco}} (NIB {{nib}}) caduca el {{fecha}}',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>emailBody:</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>'Hola,\\n\\nEl documento {{tipo}} del barco {{nombre_barco}} (NIB {{nib}}) caduca el {{fecha}}.\\n' +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>'Quedan {{dias_restantes}} dÃ­as.\\n\\nPor favor, tramita la renovaciÃ³n correspondiente.\\n\\nGracias.\\n',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>whatsapp:</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>'Hola, el documento {{tipo}} del barco {{nombre_barco}} (NIB {{nib}}) caduca el {{fecha}}. ' +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>'Quedan {{dias_restantes}} dÃ­as. Por favor, gestionad la renovaciÃ³n.',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>includeExpired: false,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function uid(prefix = 'id') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return prefix + '_' + Math.random().toString(36).slice(2, 10);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function daysBetweenToday(dateStr) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!dateStr) return NaN;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>today.setHours(0, 0, 0, 0);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const d = new Date(dateStr);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (isNaN(d.getTime())) return NaN;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>d.setHours(0, 0, 0, 0);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const diffMs = d - today;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return Math.round(diffMs / (1000 * 60 * 60 * 24));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function getStatus(doc) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const days = daysBetweenToday(doc.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (isNaN(days)) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return { level: 'unknown', label: 'Sin fecha' };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (days &lt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return { level: 'expired', label: \`Caducado (\${days} dÃ­as)\` };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const notice = Number(doc.daysNotice) || 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (days &lt;= notice) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return { level: 'soon', label: \`PrÃ³ximo (\${days} dÃ­as)\` };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return { level: 'ok', label: \`Vigente (\${days} dÃ­as)\` };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function getBoatById(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return boats.find((b) =&gt; b.id === id) || null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function getContactById(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return contacts.find((c) =&gt; c.id === id) || null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function saveState() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const payload = { boats, documents, contacts, templates };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>localStorage.setItem(STORAGE_KEY, JSON.stringify(payload));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function loadState() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const raw = localStorage.getItem(STORAGE_KEY);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!raw) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>seedDemoData();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const parsed = JSON.parse(raw);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>boats = parsed.boats || [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>documents = parsed.documents || [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>contacts = parsed.contacts || [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>templates = Object.assign(templates, parsed.templates || {});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>console.error('Error cargando estado, se usa demo:', e);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>seedDemoData();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function seedDemoData() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const boat1 = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>id: uid('boat'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>nib: 'NIB-123456',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>name: 'CABRACHO I',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>owner: 'Armador Demo S.L.',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const boat2 = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>id: uid('boat'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>nib: 'NIB-789012',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>name: 'POSIDONIA II',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>owner: 'Armador Costa Azul',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const contact1 = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>id: uid('contact'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>name: 'Responsable Seguridad',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>email: 'seguridad@example.com',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>phone: '+34600111222',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>channel: 'both',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const contact2 = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>id: uid('contact'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>name: 'Armador Demo',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>email: 'armador@example.com',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>phone: '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>channel: 'email',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const nextMonth = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>nextMonth.setMonth(today.getMonth() + 1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const lastWeek = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>lastWeek.setDate(today.getDate() - 7);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>function fmt(d) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return d.toISOString().slice(0, 10);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>boats = [boat1, boat2];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>contacts = [contact1, contact2];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>documents = [</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>id: uid('doc'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>boatId: boat1.id,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>type: 'CERTIFICADO DE CONFORMIDAD',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>category: 'CERTIFICACIONES',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>expiryDate: fmt(nextMonth),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>daysNotice: 30,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>contactId: contact1.id,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>notes: 'CertificaciÃ³n anual de conformidad.',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>id: uid('doc'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>boatId: boat1.id,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>type: 'BALSAS SALVAVIDAS',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>category: 'SEGURIDAD',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>expiryDate: fmt(lastWeek),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>daysNotice: 7,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>contactId: contact1.id,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>notes: 'Revisar proveedor actual.',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>id: uid('doc'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>boatId: boat2.id,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>type: 'TRABAJADOR 1. RECONOCIMIENTO MÃ‰DICO',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>category: 'TRIPULACION',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>expiryDate: fmt(nextMonth),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>daysNotice: 15,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>contactId: contact2.id,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>notes: 'Caduca junto con el curso bÃ¡sico.',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Tabs / secciones ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function initTabs() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const tabs = document.querySelectorAll('.tab-btn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>tabs.forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>tabs.forEach((b) =&gt; b.classList.remove('active'));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>btn.classList.add('active');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const target = btn.dataset.target;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>setSection(target);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function setSection(name) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const sections = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>dashboard: ['section-dashboard', 'section-dashboard-side'],</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>boats: ['section-boats', 'section-dashboard-side'],</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>documents: ['section-documents', 'section-dashboard-side'],</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>settings: ['section-settings', 'section-settings'],</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.querySelectorAll('.section').forEach((s) =&gt; s.classList.remove('active'));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const pair = sections[name] || sections.dashboard;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const mainId = pair[0];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const sideId = pair[1];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById(mainId)?.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById(sideId)?.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Render Dashboard ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderStats() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const statsEl = document.getElementById('stats-cards');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const totalDocs = documents.length;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let expired = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let soon = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let ok = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>documents.forEach((doc) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const st = getStatus(doc);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (st.level === 'expired') expired++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>else if (st.level === 'soon') soon++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>else if (st.level === 'ok') ok++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const byBoat = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>documents.forEach((doc) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const boat = getBoatById(doc.boatId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!boat) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!byBoat[boat.id]) byBoat[boat.id] = { total: 0, expired: 0 };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>byBoat[boat.id].total++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (getStatus(doc).level === 'expired') byBoat[boat.id].expired++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let worstBoat = null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>Object.keys(byBoat).forEach((id) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const boat = getBoatById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!boat) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const data = byBoat[id];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const ratio = data.expired / data.total;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!worstBoat || ratio &gt; worstBoat.ratio) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>worstBoat = { boat, ratio, expired: data.expired };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>statsEl.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Documentos totales&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-value"&gt;${totalDocs}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span class="stat-chip"&gt;Incluye caducados y prÃ³ximos&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Caducados&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-value" style="color:var(--danger);"&gt;${expired}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span class="stat-chip"&gt;RevisiÃ³n urgente recomendada&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;PrÃ³ximos a caducar&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-value" style="color:var(--warning);"&gt;${soon}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span class="stat-chip"&gt;Dentro del rango de aviso&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-card"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Vigentes&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div class="stat-value" style="color:var(--success);"&gt;${ok}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;span class="stat-chip"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>${</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>worstBoat</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>? `Peor barco: ${worstBoat.boat.name} (${worstBoat.expired} caducados)`</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>: 'Todo bajo control'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderDashboardFilters() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const selectBoat = document.getElementById('dashboard-filter-boat');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>selectBoat.innerHTML = `&lt;option value=""&gt;Barco: todos&lt;/option&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>boats.forEach((b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const opt = document.createElement('option');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>opt.value = b.id;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>opt.textContent = b.nib + ' Â· ' + b.name;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>selectBoat.appendChild(opt);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderDashboardTable() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const statusFilter = document.getElementById('dashboard-filter-status').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const boatFilter = document.getElementById('dashboard-filter-boat').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const search = document.getElementById('dashboard-search').value.trim().toLowerCase();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const tableCtn = document.getElementById('dashboard-table-container');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!documents.length) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>tableCtn.innerHTML = `&lt;div class="empty"&gt;No hay documentos todavÃ­a. Crea uno desde la pestaÃ±a â€œDocumentosâ€.&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let items = documents.slice();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>items = items.filter((doc) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const st = getStatus(doc);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (statusFilter &amp;&amp; st.level !== statusFilter) return false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (boatFilter &amp;&amp; doc.boatId !== boatFilter) return false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (search) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const boat = getBoatById(doc.boatId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const haystack = [</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.type || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.category || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.notes || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boat ? boat.name : '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boat ? boat.nib : '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>]</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>.join(' ')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>.toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (!haystack.includes(search)) return false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return true;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>items.sort((a, b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const da = daysBetweenToday(a.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const db = daysBetweenToday(b.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (isNaN(da) &amp;&amp; isNaN(db)) return 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (isNaN(da)) return 1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (isNaN(db)) return -1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return da - db;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const rows = items</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.map((doc) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const boat = getBoatById(doc.boatId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const st = getStatus(doc);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const boatLabel = boat ? `${boat.nib} Â· ${boat.name}` : 'â€”';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const days = daysBetweenToday(doc.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>return `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${boatLabel}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${doc.type || ''}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${doc.category ? `&lt;span class="badge-category"&gt;${doc.category}&lt;/span&gt;` : ''}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${doc.expiryDate || 'â€”'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${isNaN(days) ? 'â€”' : days}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;&lt;span class="chip-status ${st.level}"&gt;${st.label}&lt;/span&gt;&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/tr&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>})</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>tableCtn.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;EmbarcaciÃ³n&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Documento&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;CategorÃ­a&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Caducidad&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;DÃ­as&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Estado&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;tbody&gt;${rows || '&lt;tr&gt;&lt;td colspan="6" class="empty"&gt;Sin resultados con estos filtros.&lt;/td&gt;&lt;/tr&gt;'}&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Embarcaciones ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderBoatsTable() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const ctn = document.getElementById('boats-table-container');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!boats.length) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctn.innerHTML =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>'&lt;div class="empty"&gt;No hay embarcaciones todavÃ­a. Pulsa â€œNueva embarcaciÃ³nâ€ para crear la primera.&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const rows = boats</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.map((b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const docsForBoat = documents.filter((d) =&gt; d.boatId === b.id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const expiredCount = docsForBoat.filter((d) =&gt; getStatus(d).level === 'expired').length;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>return `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${b.nib}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${b.name}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${b.owner || 'â€”'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${docsForBoat.length}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${expiredCount ? `&lt;span class="danger-text"&gt;${expiredCount} cad.&lt;/span&gt;` : '0'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="table-actions"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button type="button" class="btn btn-outline" data-edit-boat="${b.id}"&gt;Editar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button type="button" class="btn btn-outline danger" data-delete-boat="${b.id}"&gt;Borrar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/tr&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>})</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;NIB&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Nombre&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Propietario&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Documentos&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Caducados&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Acciones&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;tbody&gt;${rows}&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.querySelectorAll('[data-edit-boat]').forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const id = btn.getAttribute('data-edit-boat');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>openBoatForm(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.querySelectorAll('[data-delete-boat]').forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const id = btn.getAttribute('data-delete-boat');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>deleteBoat(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function openBoatForm(id = null) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const wrapper = document.getElementById('boat-form-wrapper');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>wrapper.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const form = document.getElementById('boat-form');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>form.reset();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('boat-id').value = id || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const boat = getBoatById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (boat) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('boat-nib').value = boat.nib || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('boat-name').value = boat.name || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('boat-owner').value = boat.owner || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function closeBoatForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('boat-form-wrapper').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('boat-form').reset();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('boat-id').value = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function deleteBoat(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const boat = getBoatById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!boat) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const docsForBoat = documents.filter((d) =&gt; d.boatId === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const msg =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>docsForBoat.length &gt; 0</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>? \`Esta embarcaciÃ³n tiene \${docsForBoat.length} documentos asociados. Se borrarÃ¡n tambiÃ©n. Â¿Seguro?\`</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>: 'Â¿Seguro que quieres borrar esta embarcaciÃ³n?';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!confirm(msg)) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>boats = boats.filter((b) =&gt; b.id !== id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>documents = documents.filter((d) =&gt; d.boatId !== id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>refreshUI();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function initBoatForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-new-boat').addEventListener('click', () =&gt; openBoatForm());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-cancel-boat').addEventListener('click', closeBoatForm);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('boat-form').addEventListener('submit', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const id = document.getElementById('boat-id').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const nib = document.getElementById('boat-nib').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const name = document.getElementById('boat-name').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const owner = document.getElementById('boat-owner').value.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!nib || !name) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const boat = getBoatById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (boat) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boat.nib = nib;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boat.name = name;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boat.owner = owner;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>boats.push({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>id: uid('boat'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>nib,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>name,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>owner,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>closeBoatForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>refreshUI();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Documentos ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderBoatSelects() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const docBoat = document.getElementById('doc-boat');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const docsFilterBoat = document.getElementById('docs-filter-boat');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const dashFilterBoat = document.getElementById('dashboard-filter-boat');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (docBoat) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>docBoat.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>boats.forEach((b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const opt = document.createElement('option');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>opt.value = b.id;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>opt.textContent = `${b.nib} Â· ${b.name}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>docBoat.appendChild(opt);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (docsFilterBoat) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>docsFilterBoat.innerHTML = `&lt;option value=""&gt;Barco: todos&lt;/option&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>boats.forEach((b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const opt = document.createElement('option');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>opt.value = b.id;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>opt.textContent = `${b.nib} Â· ${b.name}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>docsFilterBoat.appendChild(opt);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (dashFilterBoat) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>dashFilterBoat.innerHTML = `&lt;option value=""&gt;Barco: todos&lt;/option&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>boats.forEach((b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const opt = document.createElement('option');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>opt.value = b.id;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>opt.textContent = `${b.nib} Â· ${b.name}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>dashFilterBoat.appendChild(opt);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderContactSelect() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const sel = document.getElementById('doc-contact');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!sel) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>sel.innerHTML = '&lt;option value=""&gt;Sin destinatario&lt;/option&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>contacts.forEach((c) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const opt = document.createElement('option');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>opt.value = c.id;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>opt.textContent = `${c.name} (${c.channel})`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>sel.appendChild(opt);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderDocumentsTable() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const boatFilter = document.getElementById('docs-filter-boat').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const statusFilter = document.getElementById('docs-filter-status').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const catFilter = document.getElementById('docs-filter-category').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const search = document.getElementById('docs-search').value.trim().toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const ctn = document.getElementById('documents-table-container');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!documents.length) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctn.innerHTML =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>'&lt;div class="empty"&gt;No hay documentos todavÃ­a. Usa el botÃ³n â€œNuevo documentoâ€ para crear el primero.&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let items = documents.slice();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>items = items.filter((doc) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const st = getStatus(doc);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (boatFilter &amp;&amp; doc.boatId !== boatFilter) return false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (statusFilter &amp;&amp; st.level !== statusFilter) return false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (catFilter &amp;&amp; doc.category !== catFilter) return false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (search) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const boat = getBoatById(doc.boatId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const haystack = [</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.type || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.category || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.notes || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boat ? boat.name : '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boat ? boat.nib : '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>]</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>.join(' ')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>.toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (!haystack.includes(search)) return false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return true;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>items.sort((a, b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const da = daysBetweenToday(a.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const db = daysBetweenToday(b.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (isNaN(da) &amp;&amp; isNaN(db)) return 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (isNaN(da)) return 1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (isNaN(db)) return -1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return da - db;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const rows = items</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.map((doc) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const boat = getBoatById(doc.boatId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const contact = getContactById(doc.contactId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const st = getStatus(doc);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const days = daysBetweenToday(doc.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>return `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${boat ? `&lt;span class="badge-boat"&gt;${boat.nib}&lt;/span&gt; ${boat.name}` : 'â€”'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${doc.type || ''}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${doc.category ? `&lt;span class="badge-category"&gt;${doc.category}&lt;/span&gt;` : ''}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${doc.expiryDate || 'â€”'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${isNaN(days) ? 'â€”' : days}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;&lt;span class="chip-status ${st.level}"&gt;${st.label}&lt;/span&gt;&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${contact ? contact.name : 'â€”'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;${doc.notes || 'â€”'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="table-actions"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button type="button" class="btn btn-outline" data-edit-doc="${doc.id}"&gt;Editar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button type="button" class="btn btn-outline" data-renew-doc="${doc.id}"&gt;Renovar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button type="button" class="btn btn-outline danger" data-delete-doc="${doc.id}"&gt;Borrar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/tr&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>})</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;EmbarcaciÃ³n&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Documento&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;CategorÃ­a&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Caducidad&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;DÃ­as&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Estado&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Avisar a&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Notas&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;th&gt;Acciones&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;tbody&gt;${rows || '&lt;tr&gt;&lt;td colspan="9" class="empty"&gt;Sin resultados con estos filtros.&lt;/td&gt;&lt;/tr&gt;'}&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.querySelectorAll('[data-edit-doc]').forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const id = btn.getAttribute('data-edit-doc');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>openDocumentForm(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.querySelectorAll('[data-renew-doc]').forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const id = btn.getAttribute('data-renew-doc');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>renewDocument(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.querySelectorAll('[data-delete-doc]').forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const id = btn.getAttribute('data-delete-doc');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>deleteDocument(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function openDocumentForm(id = null) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const wrapper = document.getElementById('document-form-wrapper');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>wrapper.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const form = document.getElementById('document-form');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>form.reset();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderBoatSelects();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderContactSelect();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('doc-id').value = id || '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const doc = documents.find((d) =&gt; d.id === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (doc) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-boat').value = doc.boatId;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-type').value = doc.type || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-category').value = doc.category || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-expiry').value = doc.expiryDate || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-days-notice').value = doc.daysNotice ?? 7;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-contact').value = doc.contactId || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-notes').value = doc.notes || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const boatSelect = document.getElementById('docs-filter-boat');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const selectedBoat = boatSelect.value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (selectedBoat) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('doc-boat').value = selectedBoat;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function closeDocumentForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('document-form-wrapper').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('document-form').reset();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('doc-id').value = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renewDocument(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const doc = documents.find((d) =&gt; d.id === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!doc) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let suggestion = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (doc.expiryDate) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const d = new Date(doc.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!isNaN(d.getTime())) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>d.setFullYear(d.getFullYear() + 1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>suggestion = d.toISOString().slice(0, 10);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const input = prompt(</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>'Introduce la nueva fecha de caducidad (YYYY-MM-DD):',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>suggestion || doc.expiryDate || ''</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!input) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>doc.expiryDate = input;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>refreshUI();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function deleteDocument(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const doc = documents.find((d) =&gt; d.id === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!doc) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const boat = getBoatById(doc.boatId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const label = boat ? `${boat.name} â€“ ${doc.type}` : doc.type;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!confirm(\`Â¿Seguro que quieres borrar el documento:\\n\\n\${label}?\`)) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>documents = documents.filter((d) =&gt; d.id !== id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>refreshUI();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function initDocumentForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-new-document').addEventListener('click', () =&gt; openDocumentForm());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-cancel-document').addEventListener('click', closeDocumentForm);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('document-form').addEventListener('submit', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const id = document.getElementById('doc-id').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const boatId = document.getElementById('doc-boat').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const type = document.getElementById('doc-type').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const category = document.getElementById('doc-category').value || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const expiry = document.getElementById('doc-expiry').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const daysNotice = Number(document.getElementById('doc-days-notice').value || 0);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const contactId = document.getElementById('doc-contact').value || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const notes = document.getElementById('doc-notes').value.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!boatId || !type || !expiry) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const doc = documents.find((d) =&gt; d.id === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (doc) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.boatId = boatId;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.type = type;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.category = category;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.expiryDate = expiry;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.daysNotice = daysNotice;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.contactId = contactId;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>doc.notes = notes;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>documents.push({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>id: uid('doc'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>boatId,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>type,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>category,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>expiryDate: expiry,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>daysNotice,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>contactId,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>notes,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>closeDocumentForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>refreshUI();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>// Filtros documentos</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>['docs-filter-boat', 'docs-filter-status', 'docs-filter-category'].forEach((id) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById(id).addEventListener('change', renderDocumentsTable);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('docs-search').addEventListener('input', renderDocumentsTable);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Contactos ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function renderContactsList() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const ctn = document.getElementById('contacts-list');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!contacts.length) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>ctn.innerHTML = '&lt;div class="empty"&gt;Sin contactos. Crea alguno para probar las notificaciones.&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const items = contacts</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.map((c) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>return `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;div style="padding:6px 0; border-bottom:1px solid rgba(226,232,240,0.9); display:flex; justify-content:space-between; gap:8px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div style="font-size:12px; font-weight:600;"&gt;${c.name}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="muted"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>${c.email ? 'âœ‰ ' + c.email : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>${c.phone ? ' Â· ğŸ“± ' + c.phone : ''}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="badge" style="margin-top:2px;"&gt;Canal: ${c.channel}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div style="display:flex; flex-direction:column; gap:4px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn btn-outline" data-edit-contact="${c.id}"&gt;Editar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn btn-outline danger" data-delete-contact="${c.id}"&gt;Borrar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>})</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.innerHTML = items;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.querySelectorAll('[data-edit-contact]').forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const id = btn.getAttribute('data-edit-contact');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>openContactForm(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>ctn.querySelectorAll('[data-delete-contact]').forEach((btn) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const id = btn.getAttribute('data-delete-contact');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>deleteContact(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function openContactForm(id = null) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const wrapper = document.getElementById('contact-form-wrapper');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>wrapper.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const form = document.getElementById('contact-form');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>form.reset();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('contact-id').value = id || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const c = getContactById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (c) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('contact-name').value = c.name || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('contact-email').value = c.email || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('contact-phone').value = c.phone || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('contact-channel').value = c.channel || 'both';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function closeContactForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('contact-form-wrapper').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('contact-form').reset();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('contact-id').value = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function deleteContact(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const c = getContactById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!c) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!confirm(\`Â¿Borrar contacto "\${c.name}"?\`)) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>contacts = contacts.filter((x) =&gt; x.id !== id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>documents.forEach((d) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (d.contactId === id) d.contactId = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderContactsList();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderContactSelect();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderDocumentsTable();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderDashboardTable();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function initContactForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-new-contact').addEventListener('click', () =&gt; openContactForm());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-cancel-contact').addEventListener('click', closeContactForm);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('contact-form').addEventListener('submit', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const id = document.getElementById('contact-id').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const name = document.getElementById('contact-name').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const email = document.getElementById('contact-email').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const phone = document.getElementById('contact-phone').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const channel = document.getElementById('contact-channel').value || 'both';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!name) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const c = getContactById(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>if (c) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>c.name = name;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>c.email = email;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>c.phone = phone;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>c.channel = channel;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>contacts.push({</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>id: uid('contact'),</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>name,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>email,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>phone,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>channel,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>closeContactForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>renderContactsList();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>renderContactSelect();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Plantillas / simulaciÃ³n ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function loadTemplatesIntoForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('tpl-email-subject').value = templates.emailSubject || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('tpl-email-body').value = templates.emailBody || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('tpl-whatsapp').value = templates.whatsapp || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('tpl-send-expired').checked = !!templates.includeExpired;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function initTemplatesForm() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-save-templates').addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>templates.emailSubject =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('tpl-email-subject').value ||</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>'AVISO: {{tipo}} Â· {{nombre_barco}} (NIB {{nib}}) caduca el {{fecha}}';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>templates.emailBody =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('tpl-email-body').value || templates.emailBody || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>templates.whatsapp =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>document.getElementById('tpl-whatsapp').value || templates.whatsapp || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>templates.includeExpired = document.getElementById('tpl-send-expired').checked;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>saveState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>alert('Plantillas guardadas (en este navegador).');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('btn-simulate').addEventListener('click', simulateNotifications);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function formatTemplate(str, data) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return str</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.replaceAll('{{nombre_barco}}', data.nombre_barco || '')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.replaceAll('{{nib}}', data.nib || '')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.replaceAll('{{tipo}}', data.tipo || '')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.replaceAll('{{fecha}}', data.fecha || '')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.replaceAll('{{dias_restantes}}', data.dias_restantes != null ? String(data.dias_restantes) : '');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function simulateNotifications() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const resultsEl = document.getElementById('simulation-results');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const lines = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const includeExpired = !!templates.includeExpired;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>documents.forEach((doc) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const d = daysBetweenToday(doc.expiryDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (isNaN(d)) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const st = getStatus(doc);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const contact = getContactById(doc.contactId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const boat = getBoatById(doc.boatId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!contact) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const notice = Number(doc.daysNotice) || 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const matchesNotice = d &lt;= notice &amp;&amp; d &gt;= 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const isExpired = d &lt; 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (!matchesNotice &amp;&amp; !(includeExpired &amp;&amp; isExpired)) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const context = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>nombre_barco: boat ? boat.name : '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>nib: boat ? boat.nib : '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>tipo: doc.type || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>fecha: doc.expiryDate || '',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>dias_restantes: d,</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const subj = formatTemplate(templates.emailSubject, context);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const body = formatTemplate(templates.emailBody, context);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const wa = formatTemplate(templates.whatsapp, context);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>lines.push(</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>'â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\\n' +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>\`DOCUMENTO: \${doc.type} (\${st.label})\\n\` +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>\`BARCO: \${boat ? boat.name + ' â€“ NIB ' + boat.nib : 'â€”'}\\n\` +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>\`DESTINATARIO: \${contact.name} [\${contact.channel}]\\n\` +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>(contact.email ? \`Email: \${contact.email}\\n\` : '') +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>(contact.phone ? \`TelÃ©fono: \${contact.phone}\\n\` : '') +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'\\n[EMAIL]\\n' +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'Asunto: ' +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>subj +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'\\n\\n' +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>body +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'\\n\\n[WHATSAPP]\\n' +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>wa +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'\\n'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (!lines.length) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>resultsEl.textContent =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>'Hoy no se generarÃ­a ningÃºn aviso con la configuraciÃ³n actual (rango de dÃ­as de aviso y plantillas).';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>resultsEl.textContent = lines.join('\\n');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- Dashboard filtros ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function initDashboardFilters() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('dashboard-filter-status').addEventListener('change', renderDashboardTable);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('dashboard-filter-boat').addEventListener('change', renderDashboardTable);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>document.getElementById('dashboard-search').addEventListener('input', renderDashboardTable);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// ---------- UI global ----------</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>function refreshUI() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderStats();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderDashboardFilters();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderDashboardTable();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderBoatsTable();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderBoatSelects();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderContactSelect();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderDocumentsTable();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>renderContactsList();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loadTemplatesIntoForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>window.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>loadState();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>initTabs();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>initBoatForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>initDocumentForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>initContactForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>initTemplatesForm();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>initDashboardFilters();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>refreshUI();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
